<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lista de Caminhoes</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

 <div class="container mt-5">
     <div class="card shadow-lg p-4">
         <h3 class="text-primary mb-4 text-center">Lista de Caminhões</h3>

         <div class="text-end mb-3">
             <a th:href="@{/truck/add}" class="btn btn-success">Adicionar Caminhão</a>
         </div>
         <div th:if="${errorMessage}" class="alert alert-danger" th:text="${errorMessage}"></div>
         <table class="table table-striped">
             <thead>
              <tr>
                  <th>Placa</th>
                  <th>Modelo</th>
                  <th>Motorista Atual</th>
                  <th>Status</th>
                  <th>Ações</th>
              </tr>
             </thead>
             <tbody>
              <tr th:each="truck : ${trucks}">
                 <td th:text="${truck.plate}"></td>
                  <td th:text="${truck.model}"></td>
                  <td th:text="${truck.driver != null ? truck.driver.name : 'Não atribuído'}"></td>
                  <td th:text="${truck.status ? 'Ativo' : 'Inativo'}"></td>
                  <td>
                      <a th:href="@{'/truck/edit/' + ${truck.id}}" class="btn btn-warning btn-sm">Editar</a>
                      <a th:href="@{'/truck/delete/' + ${truck.id}}" class="btn btn-danger btn-sm">Deletar</a>
                      <a th:href="@{'/truck/assign'}" class="btn btn-primary btn-sm">Atribuir Motorista</a>
                      <a th:href="@{'/truck/details/' + ${truck.id}}" class="btn btn-info btn-sm">Detalhes</a>
                  </td>
              </tr>
             </tbody>
         </table>

         <div class="text-center mt-3">
             <a th:href="@{/truck/menu}" class="btn btn-secondary">Voltar</a>
         </div>
     </div>
 </div>

</body>
</html>